{"version":3,"sources":["common/ImageInfos.ts","common/Bird.ts","common/Pipe.ts","components/Game.tsx","router/index.ts","assets/spritesheet.png","components/WebGL.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["ImagePosition","scoreImages","x","y","width","height","background","ground","grass","startButton","okButton","title","gameOver","board","birds","birdImages","ImageInfos","Bird","positionX","positionY","isDead","speed","updateFrame","ctx","image","frame","Math","floor","this","setSpeed","dead","angle","save","translate","rotate","PI","drawImage","restore","upPipeImage","downPipeImage","Pipe","upYPosition","upPosition","downPosition","hasSkipped","hasScored","centerYPosition","offset","setPosition","bird","canvasStyle","border","routes","path","component","useState","canvas","setCanvas","setCtx","setImage","timer","setTimer","setFrame","gameState","setGameState","grassPosition","setGrassPosition","pipes","setPipes","setBird","score","setScore","bestScore","setBestScore","requestRef","useRef","previousTimeRef","previousFrameRef","useEffect","document","getElementById","getContext","clearRect","Image","src","onload","ratio","window","devicePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","canvasWidth","canvasHeight","style","scale","setPixelRatio","current","requestAnimationFrame","animate","cancelAnimationFrame","gX","gY","gWidth","gHeight","drawBackground","map","drawGrass","tX","tY","tW","tH","bX","bY","bW","bH","sin","drawTitle","drawStartButton","filter","pipe","nowXCoordinate","scoreToAdd","forEach","isHit","isSkipped","draw","prevScore","drawPipe","oX","oY","oW","oH","gW","gH","drawGameOver","drawScoreImage","push","createPipe","time","undefined","deltaTime","deltaFrame","prevCount","scoreToDraw","position","toString","split","reverse","s","index","parseInt","id","onClick","e","offsetX","offsetY","fly","handleClick","nativeEvent","scene","setScene","camera","setCamera","renderer","setRenderer","cube","setCube","newScene","THREE","newCamera","newRenderer","setSize","body","appendChild","domElement","geometry","material","color","newCube","add","z","addEventListener","code","upPipe","downPipe","yBase","now","render","speedToSet","App","console","log","process","className","basename","route","i","exact","props","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.aad6f593.chunk.js","sourcesContent":["import Point from './Point'\n\ninterface ImageInfo extends Point {\n  width: number\n  height: number\n}\n\nconst ImagePosition: {\n  scoreImages: Array<ImageInfo>\n  background: ImageInfo\n  ground: ImageInfo\n  grass: ImageInfo\n  title: ImageInfo\n  gameOver: ImageInfo\n  startButton: ImageInfo\n  okButton: ImageInfo\n  board: ImageInfo\n  birds: Array<ImageInfo>\n} = {\n  scoreImages: [\n    { x: 288, y: 100, width: 7, height: 10 },\n    { x: 290, y: 118, width: 7, height: 10 },\n    { x: 289, y: 134, width: 7, height: 10 },\n    { x: 289, y: 150, width: 7, height: 10 },\n    { x: 287, y: 173, width: 7, height: 10 },\n    { x: 287, y: 185, width: 7, height: 10 },\n    { x: 284, y: 197, width: 6, height: 7 },\n    { x: 292, y: 197, width: 6, height: 7 },\n    { x: 284, y: 213, width: 6, height: 7 },\n    { x: 292, y: 213, width: 6, height: 7 },\n  ],\n  background: { x: 0, y: 0, width: 144, height: 255 },\n  ground: { x: 150, y: 10, width: 145, height: 40 },\n  grass: { x: 146, y: 0, width: 153, height: 7 },\n  startButton: { x: 242, y: 213, width: 40, height: 14 },\n  okButton: { x: 246, y: 134, width: 40, height: 14 },\n  title: { x: 145, y: 172, width: 98, height: 25 },\n  gameOver: { x: 146, y: 199, width: 94, height: 19 },\n  board: { x: 146, y: 58, width: 113, height: 58 },\n  birds: [\n    { x: 262, y: 60, width: 20, height: 20 },\n    { x: 262, y: 86, width: 20, height: 20 },\n  ],\n}\n\nexport default ImagePosition\n","import ImageInfos from './ImageInfos'\n\nconst birdImages = ImageInfos.birds\n\nclass Bird {\n  public positionX = 100\n  public positionY = 280\n  public isDead = false\n  private speed = 0\n  private updateFrame = 0\n\n  public draw(ctx: CanvasRenderingContext2D, image: HTMLImageElement, frame: number) {\n    const { x, y, width, height } = birdImages[Math.floor((frame / 120) % 2)]\n    if (frame - this.updateFrame > 20) {\n      this.setSpeed()\n      this.updateFrame = frame\n    }\n\n    if (this.positionY + this.speed < 595) {\n      this.positionY = this.positionY + this.speed\n    } else {\n      this.positionY = 595\n      this.dead()\n    }\n    const angle = this.speed * 15\n    ctx.save()\n    ctx.translate(this.positionX, this.positionY)\n    ctx.rotate(((angle < -30 ? -30 : angle) * Math.PI) / 180)\n    ctx.drawImage(image, x, y, width, height, -25, -25, 50, 50)\n    ctx.restore()\n  }\n\n  private setSpeed(speed?: number) {\n    if (speed) {\n      this.speed = speed\n    } else if (this.speed < 6) {\n      if (this.speed < 0) {\n        this.speed = this.speed + 0.7\n      } else {\n        this.speed = this.speed + 0.8\n      }\n    }\n  }\n\n  public fly() {\n    this.setSpeed(-6.5)\n  }\n\n  public dead() {\n    this.isDead = true\n    this.setSpeed(6)\n  }\n}\n\nexport default Bird\n","import Bird from './Bird'\nimport Point from './Point'\n\nconst upPipeImage: Point = { x: 302, y: 0 }\nconst downPipeImage: Point = { x: 330, y: 0 }\nclass Pipe {\n  public upPosition: Point\n  public downPosition: Point\n  public hasSkipped: boolean = false\n  public hasScored: boolean = false\n  private centerYPosition: number\n\n  constructor(upYPosition: number) {\n    this.upPosition = { x: 400, y: upYPosition - 338 }\n    this.downPosition = { x: 400, y: upYPosition + 150 }\n    this.centerYPosition = upYPosition\n  }\n\n  get nowXCoordinate() {\n    return this.upPosition.x\n  }\n\n  setPosition(offset: number) {\n    this.upPosition.x = this.upPosition.x - offset\n    this.downPosition.x = this.downPosition.x - offset\n  }\n\n  public draw(ctx: CanvasRenderingContext2D, image: HTMLImageElement, offset: number) {\n    // up pipe\n    ctx.drawImage(\n      image,\n      upPipeImage.x,\n      upPipeImage.y,\n      26,\n      135,\n      this.upPosition.x,\n      this.upPosition.y,\n      70,\n      338,\n    )\n\n    // down pipe\n    ctx.drawImage(\n      image,\n      downPipeImage.x,\n      downPipeImage.y,\n      26,\n      122,\n      this.downPosition.x,\n      this.downPosition.y,\n      70,\n      620 - this.downPosition.y,\n    )\n    this.setPosition(offset)\n  }\n\n  public isHit(bird: Bird) {\n    if (\n      bird.positionX + 20 >= this.upPosition.x &&\n      bird.positionX <= this.upPosition.x + 95 &&\n      (bird.positionY <= this.centerYPosition + 20 || bird.positionY >= this.centerYPosition + 150)\n    ) {\n      bird.dead()\n    }\n  }\n\n  public isSkipped(): number {\n    if (this.upPosition.x < 30) {\n      this.hasSkipped = true\n    }\n    if (!this.hasScored && this.hasSkipped) {\n      this.hasScored = true\n      return 1\n    } else {\n      return 0\n    }\n  }\n}\n\nexport default Pipe\n","import React, { useState, useEffect, useRef } from 'react'\nimport spriteSheet from '../assets/spritesheet.png'\nimport Bird from '../common/Bird'\nimport Pipe from '../common/Pipe'\nimport ImageInfos from '../common/ImageInfos'\nimport Point from '../common/Point'\n\nconst canvasStyle = {\n  border: '1px solid #000',\n}\n\nconst moveSpeed = 3\nconst birdImages = ImageInfos.birds\n\nfunction createPipe(pipes: Pipe[], frame: number) {\n  pipes.push(new Pipe(280 + Math.sin(frame) * 30))\n}\n\nexport function Game() {\n  const [canvas, setCanvas] = useState<HTMLCanvasElement | null>(null)\n  const [ctx, setCtx] = useState<CanvasRenderingContext2D | null>(null)\n  const [image, setImage] = useState<HTMLImageElement | null>(null)\n  const [timer, setTimer] = useState<number>(0)\n  const [frame, setFrame] = useState<number>(0)\n  const [gameState, setGameState] = useState<'ready' | 'playing' | 'dead'>('ready')\n  const [grassPosition, setGrassPosition] = useState<Array<number>>([-50, 380])\n  const [pipes, setPipes] = useState<Array<Pipe>>([])\n  const [bird, setBird] = useState<Bird | null>(null)\n  const [score, setScore] = useState(0)\n  const [bestScore, setBestScore] = useState(0)\n  const requestRef = useRef(0)\n  const previousTimeRef = useRef(0)\n  const previousFrameRef = useRef(0)\n\n  useEffect(() => {\n    const canvas = document.getElementById('canvas') as HTMLCanvasElement\n    setCanvas(canvas)\n    setCtx(canvas.getContext('2d'))\n    ctx?.clearRect(0, 0, 360, 720)\n    const image = new Image()\n    image.src = spriteSheet\n    image.onload = () => {\n      setImage(image)\n    }\n  }, [])\n\n  useEffect(() => {\n    setPixelRatio()\n  }, [ctx])\n\n  useEffect(() => {\n    requestRef.current = requestAnimationFrame(animate)\n    return () => cancelAnimationFrame(requestRef.current)\n  }, [image])\n\n  useEffect(() => {\n    ctx?.clearRect(0, 0, 360, 720)\n    drawBackground()\n    drawGrass()\n    drawTitle()\n    drawStartButton()\n    drawPipe()\n    drawBird()\n    drawGameOver()\n    drawScore()\n  }, [frame])\n\n  useEffect(() => {\n    if (bird) {\n      if (gameState === 'playing' && Math.floor(timer % 2) === 0) {\n        createPipe(pipes, frame)\n      }\n    }\n  }, [timer])\n\n  useEffect(() => {\n    if (bird?.isDead) {\n      setGameState('dead')\n      if (score >= bestScore) {\n        setBestScore(score)\n      }\n    }\n  }, [bird?.isDead])\n\n  function setPixelRatio() {\n    if (canvas && ctx) {\n      // 取得裝置 devicePixelRatio\n      const devicePixelRatio = window.devicePixelRatio || 1\n\n      // 取得各瀏覽器 backingStoreRatio\n      const backingStoreRatio =\n        // @ts-ignore\n        ctx.webkitBackingStorePixelRatio ||\n        // @ts-ignore\n        ctx.mozBackingStorePixelRatio ||\n        // @ts-ignore\n        ctx.msBackingStorePixelRatio ||\n        // @ts-ignore\n        ctx.oBackingStorePixelRatio ||\n        // @ts-ignore\n        ctx.backingStorePixelRatio ||\n        1\n\n      // 計算比例\n      const ratio = devicePixelRatio / backingStoreRatio\n\n      // 取得預設我們想要呈現的 canvas 大小\n      const canvasWidth = canvas.width\n      const canvasHeight = canvas.height\n\n      // 將\"畫布寬高\"依照比例放大\n      canvas.width = canvasWidth * ratio\n      canvas.height = canvasHeight * ratio\n\n      // 將\"畫布樣式寬高\", 設為我們想要呈現的寬高\n      canvas.style.width = `${canvasWidth}px`\n      canvas.style.height = `${canvasHeight}px`\n\n      // 將內容依照比例放大\n      ctx.scale(ratio, ratio)\n    }\n  }\n\n  // set Time and frame to refresh canvas\n  const animate = (time: number) => {\n    if (previousTimeRef.current !== undefined) {\n      const deltaTime = time - previousTimeRef.current\n      const deltaFrame = time - previousFrameRef.current\n      if (deltaTime > 1000) {\n        setTimer(prevCount => prevCount + 1)\n        previousTimeRef.current = time\n      }\n      setFrame(prevCount => prevCount + deltaFrame)\n    }\n\n    previousFrameRef.current = time\n    requestRef.current = requestAnimationFrame(animate)\n  }\n\n  function drawBackground() {\n    if (ctx && image) {\n      const {\n        background: { x, y, width, height },\n        ground: { x: gX, y: gY, width: gWidth, height: gHeight },\n      } = ImageInfos\n      ctx.drawImage(image, x, y, width, height, 0, 0, 360, 780)\n      ctx.drawImage(image, gX, gY, gWidth, gHeight, 0, 620, 360, 100)\n    }\n  }\n\n  function drawGrass() {\n    if (ctx && image) {\n      const {\n        grass: { x, y, width, height },\n      } = ImageInfos\n      if (gameState !== 'dead') {\n        setGrassPosition(grassPosition.map(x => (x - moveSpeed < -510 ? 380 : x - moveSpeed)))\n      }\n      ctx.drawImage(\n        image,\n        x,\n        y,\n        width,\n        height,\n        grassPosition[0] - (gameState === 'dead' ? 0 : moveSpeed),\n        620,\n        460,\n        10,\n      )\n      ctx.drawImage(\n        image,\n        x,\n        y,\n        width,\n        height,\n        grassPosition[1] - (gameState === 'dead' ? 0 : moveSpeed),\n        620,\n        460,\n        10,\n      )\n    }\n  }\n\n  function drawTitle() {\n    if (ctx && image && gameState === 'ready') {\n      const {\n        title: { x: tX, y: tY, width: tW, height: tH },\n      } = ImageInfos\n      const { x: bX, y: bY, width: bW, height: bH } = birdImages[Math.floor((frame / 120) % 2)]\n      ctx.drawImage(image, tX, tY, tW, tH, 35, 200 - Math.sin(frame / 500) * 10, 250, 62.5)\n      ctx.drawImage(image, bX, bY, bW, bH, 290, 200 - Math.sin(frame / 500) * 10, 50, 50)\n    }\n  }\n\n  function drawStartButton() {\n    if (ctx && image && gameState === 'ready') {\n      const { x, y, width, height } = ImageInfos.startButton\n      ctx.drawImage(image, x, y, width, height, 130, 400, 100, 35)\n    }\n  }\n\n  function drawPipe() {\n    if (ctx && image && bird) {\n      setPipes(pipes.filter(pipe => pipe.nowXCoordinate > -100))\n      let scoreToAdd = 0\n      pipes.forEach(pipe => {\n        pipe.isHit(bird)\n        scoreToAdd = scoreToAdd + pipe.isSkipped()\n        pipe.draw(ctx, image, gameState === 'playing' ? moveSpeed : 0)\n      })\n\n      if (scoreToAdd !== 0) {\n        setScore(prevScore => prevScore + scoreToAdd)\n      }\n    }\n  }\n\n  function drawBird() {\n    if (ctx && image && bird) {\n      bird.draw(ctx, image, gameState === 'playing' ? frame : 0)\n    }\n  }\n\n  function drawScore() {\n    if (gameState === 'playing') {\n      drawScoreImage(score, { x: 170, y: 30 })\n    } else if (gameState === 'dead') {\n      drawScoreImage(score, { x: 270, y: 348 })\n      drawScoreImage(bestScore, { x: 270, y: 400 })\n    }\n  }\n\n  function drawScoreImage(scoreToDraw: number, position: Point) {\n    if (ctx && image) {\n      scoreToDraw\n        .toString()\n        .split('')\n        .reverse()\n        .forEach((s, index) => {\n          const { x, y, width, height } = ImageInfos.scoreImages[parseInt(s)]\n          ctx.drawImage(image, x, y, width, height, position.x - 25 * index, position.y, 25, 30)\n        })\n    }\n  }\n\n  function drawGameOver() {\n    if (ctx && image && gameState === 'dead') {\n      const {\n        okButton: { x: oX, y: oY, width: oW, height: oH },\n        gameOver: { x: gX, y: gY, width: gW, height: gH },\n        board: { x: bX, y: bY, width: bW, height: bH },\n      } = ImageInfos\n      // game over\n      ctx.drawImage(image, gX, gY, gW, gH, 55, 200, 250, 60)\n      // board\n      ctx.drawImage(image, bX, bY, bW, bH, 38.75, 310, 282.5, 145)\n      // ok\n      ctx.drawImage(image, oX, oY, oW, oH, 130, 500, 100, 35)\n    }\n  }\n\n  function handleClick(e: MouseEvent) {\n    const { offsetX, offsetY } = e\n    if (gameState === 'ready') {\n      if (offsetX >= 130 && offsetX <= 230 && offsetY >= 400 && offsetY <= 435) {\n        setGameState('playing')\n        setBird(new Bird())\n      }\n    } else if (gameState === 'playing') {\n      bird?.fly()\n    } else if (gameState === 'dead') {\n      if (offsetX >= 130 && offsetX <= 230 && offsetY >= 500 && offsetY <= 535) {\n        setBird(null)\n        setPipes([])\n        setScore(0)\n        setGameState('ready')\n      }\n    }\n  }\n\n  return (\n    <canvas\n      id=\"canvas\"\n      style={canvasStyle}\n      onClick={e => {\n        handleClick(e.nativeEvent)\n      }}\n      width=\"360\"\n      height=\"720\"\n    ></canvas>\n  )\n}\n","import { Game } from '../components/Game'\nimport { WebGL } from '../components/WebGL'\n\nconst routes = [\n  {\n    path: '/',\n    component: Game,\n  },\n  {\n    path: '/webGL',\n    component: WebGL,\n  },\n]\n\nexport default routes\n","export default \"data:image/png;base64,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\"","import React, { useEffect, useState, useRef } from 'react'\nimport * as THREE from 'three'\n\nexport function WebGL() {\n  const requestRef = useRef(0)\n  const previousFrameRef = useRef(0)\n  const previousTimeRef = useRef(0)\n  const [frame, setFrame] = useState<number>(0)\n  const [timer, setTimer] = useState<number>(0)\n  const [scene, setScene] = useState<null | THREE.Scene>(null)\n  const [camera, setCamera] = useState<null | THREE.PerspectiveCamera>(null)\n  const [renderer, setRenderer] = useState<null | THREE.WebGLRenderer>(null)\n  const [pipes] = useState<Array<THREE.Mesh<THREE.BoxGeometry, THREE.MeshBasicMaterial>>>([])\n  const [cube, setCube] = useState<THREE.Mesh<THREE.BoxGeometry, THREE.MeshBasicMaterial>>()\n  const [speed, setSpeed] = useState(0)\n\n  useEffect(() => {\n    const newScene = new THREE.Scene()\n    const newCamera = new THREE.PerspectiveCamera(90, 0.5, 0.1, 1000)\n    const newRenderer = new THREE.WebGLRenderer()\n    setScene(newScene)\n    setCamera(newCamera)\n    setRenderer(newRenderer)\n    newRenderer.setSize(360, 720)\n    document.body.appendChild(newRenderer.domElement)\n    const geometry = new THREE.BoxGeometry(0.5, 0.5, 0)\n    const material = new THREE.MeshBasicMaterial({ color: 0x828282 })\n    const newCube = new THREE.Mesh(geometry, material)\n    setCube(newCube)\n    newScene.add(newCube)\n    newCube.position.x = -2\n    newCamera.position.z = 10\n\n    window.addEventListener('keypress', (e: KeyboardEvent) => {\n      if (e.code === 'KeyF') {\n        fly(-2)\n      }\n    })\n  }, [])\n\n  useEffect(() => {\n    animate()\n  }, [renderer])\n\n  useEffect(() => {\n    if (timer % 2 === 0) {\n      createPipe()\n    }\n  }, [timer])\n\n  useEffect(() => {\n    fly()\n  }, [frame])\n\n  const animate = function (now: number = 0) {\n    const deltaTime = now - previousTimeRef.current\n    const deltaFrame = now - previousFrameRef.current\n    if (deltaTime > 1000) {\n      setTimer(prevCount => prevCount + 1)\n      previousTimeRef.current = now\n    }\n\n    setFrame(prevCount => prevCount + deltaFrame)\n    previousFrameRef.current = now\n\n    if (scene && camera && renderer) {\n      pipes.forEach(pipe => {\n        pipe.position.x = pipe.position.x - 0.08\n      })\n\n      renderer.render(scene, camera)\n    }\n\n    requestRef.current = requestAnimationFrame(animate)\n  }\n\n  function createPipe() {\n    if (scene) {\n      const geometry = new THREE.BoxGeometry(1.5, 15, 0)\n      const material = new THREE.MeshBasicMaterial({ color: 0x228b22 })\n      const upPipe = new THREE.Mesh(geometry, material)\n      const downPipe = new THREE.Mesh(geometry, material)\n      const yBase = Math.sin(frame) * 2.5\n      upPipe.position.x = 5\n      upPipe.position.y = yBase + 10\n      downPipe.position.x = 5\n      downPipe.position.y = yBase - 10\n      scene.add(upPipe)\n      pipes.push(upPipe)\n      scene.add(downPipe)\n      pipes.push(downPipe)\n    }\n  }\n\n  function fly(speedToSet?: number) {\n    if (speedToSet) {\n      setSpeed(speedToSet)\n    } else if (speed < 6) {\n      setSpeed(speed + 0.1)\n    }\n\n    if (cube && cube.position.y > -9.5) {\n      cube.position.y = cube.position.y - speed / 10\n    } else {\n      dead()\n    }\n  }\n\n  function dead() {\n    cancelAnimationFrame(requestRef.current)\n  }\n\n  return <div />\n}\n","import React from 'react'\nimport { Switch, Route, BrowserRouter as Router } from 'react-router-dom'\nimport routes from './router'\nimport './App.css'\n\nfunction App() {\n  console.log(process.env.PUBLIC_URL)\n  return (\n    <div className=\"App\">\n      <Router basename={'/FlappyBird'}>\n        <Switch>\n          {routes.map((route, i) => (\n            <Route\n              key={i}\n              exact\n              path={route.path}\n              render={(props: any) => <route.component {...props} />}\n            />\n          ))}\n        </Switch>\n      </Router>\n    </div>\n  )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}